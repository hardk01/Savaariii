(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{9857:(e,s,t)=>{Promise.resolve().then(t.bind(t,1359)),Promise.resolve().then(t.bind(t,4880))},6046:(e,s,t)=>{"use strict";var a=t(6658);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},4880:(e,s,t)=>{"use strict";t.d(s,{default:()=>c});var a=t(5155),o=t(7396),r=t(6046),n=t(2115),l=t(399),i=t(4595);let c=()=>{let e=(0,r.useRouter)(),[s,t]=(0,n.useState)(!1),[c,d]=(0,n.useState)({fs:"",ls:"",email:"",password:"",phone:"",postcode:""}),m=e=>{let{name:s,value:t}=e.target;d({...c,[s]:t})},p=async s=>{s.preventDefault();let t={...c};try{let s=await fetch("".concat("http://192.168.1.8:3000/","v1/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error("Failed to register user");let a=await s.json();localStorage.setItem("token",a.data.token),localStorage.setItem("userDataObj",JSON.stringify(a)),e.push("/"),d({fs:"",ls:"",email:"",password:"",phone:"",postcode:""})}catch(e){console.error("Registration Error:",e)}},u=async()=>{try{var s,a;let o=(await (0,l.df)(i.j,i.M)).user,r={uid:o.uid,fs:null===(s=o.displayName)||void 0===s?void 0:s.split(" ")[0],ls:null===(a=o.displayName)||void 0===a?void 0:a.split(" ")[1],email:o.email,phone:o.phoneNumber||"",postcode:""},n=await fetch("".concat("http://192.168.1.8:3000/","v1/google-register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok)throw Error("Failed to register user with Google");let c=await n.json();localStorage.setItem("token",c.data.token),t(!0),e.push("/")}catch(e){console.error("Google login error:",e),"auth/configuration-not-found"===e.code?alert("Google Sign-In is not configured. Please check your Firebase settings."):alert("Google sign-in failed. Please try again.")}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"container pt-140 pb-170",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-lg-5 mx-auto",children:(0,a.jsxs)("div",{className:"register-content border rounded-3 px-md-5 px-3 ptb-50",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"neutral-1000 px-4 py-2 bg-2 text-sm-bold rounded-12 d-inline-flex align-items-center",children:"Register"}),(0,a.jsx)("h4",{className:"neutral-1000",children:"Create an Account"})]}),(0,a.jsxs)("div",{className:"form-login mt-30",children:[(0,a.jsxs)("form",{onSubmit:p,action:"#",children:[(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{type:"text",name:"fs",value:c.fs,onChange:m,className:"form-control username",placeholder:"First Name"})}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{type:"text",name:"ls",value:c.ls,onChange:m,className:"form-control username",placeholder:"Last Name"})}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{type:"text",name:"phone",value:c.phone,onChange:m,className:"form-control username",placeholder:"Phone Number"})}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{type:"text",name:"postcode",value:c.postcode,onChange:m,className:"form-control username",placeholder:"Post Code"})}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{name:"email",value:c.email,onChange:m,className:"form-control email",type:"text",placeholder:"Email / Username"})}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{name:"password",value:c.password,onChange:m,className:"form-control password",type:"password",placeholder:"***********"})}),(0,a.jsx)("div",{className:"form-group mb-30",children:(0,a.jsxs)("button",{type:"submit",className:"btn btn-primary w-100",children:["Sign up",(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M8 15L15 8L8 1M15 8L1 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),(0,a.jsx)("p",{className:"text-md-medium neutral-500 text-center",children:"Or connect with your social account"})]}),(0,a.jsxs)("div",{className:"box-button-logins",children:[(0,a.jsxs)("button",{onClick:u,className:"btn btn-login btn-google mr-10",children:[(0,a.jsx)("img",{src:"/assets/imgs/template/popup/google.svg",alt:"Carento"}),(0,a.jsx)("span",{className:"text-sm-bold",children:"Sign up with Google"})]}),(0,a.jsx)(o.default,{className:"btn btn-login mr-10",href:"#",children:(0,a.jsx)("img",{src:"/assets/imgs/template/popup/facebook.svg",alt:"Carento"})}),(0,a.jsx)(o.default,{className:"btn btn-login",href:"#",children:(0,a.jsx)("img",{src:"/assets/imgs/template/popup/apple.svg",alt:"Carento"})})]}),(0,a.jsxs)("p",{className:"text-sm-medium neutral-500 text-center mt-70",children:["Already have an account? ",(0,a.jsx)(o.default,{className:"neutral-1000",href:"/login",children:"Login Here !"})]})]})]})})})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[855,503,99,359,441,517,358],()=>s(9857)),_N_E=e.O()}]);