(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{6759:(e,s,t)=>{Promise.resolve().then(t.bind(t,1359)),Promise.resolve().then(t.bind(t,744))},6046:(e,s,t)=>{"use strict";var r=t(6658);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},744:(e,s,t)=>{"use strict";t.d(s,{default:()=>c});var r=t(5155),a=t(2115),l=t(6046),o=t(7396),n=t(399),i=t(4595);let c=()=>{let[e,s]=(0,a.useState)({email:"",password:""}),[t,c]=(0,a.useState)(!1),d=(0,l.useRouter)();(0,a.useEffect)(()=>{localStorage.getItem("token")&&(c(!0),d.push("/"))},[]),(0,a.useEffect)(()=>{let e=(0,n.hg)(i.j,e=>{e&&(c(!0),d.push("/"))});return()=>e()},[]);let m=async()=>{try{var e,s;let t=(await (0,n.df)(i.j,i.M)).user,r={uid:t.uid,fs:null===(e=t.displayName)||void 0===e?void 0:e.split(" ")[0],ls:null===(s=t.displayName)||void 0===s?void 0:s.split(" ")[1],email:t.email,phone:t.phoneNumber||"",postcode:""},a=await fetch("".concat("http://192.168.1.8:3000/","v1/google-register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw Error("Failed to register user with Google");let l=await a.json();localStorage.setItem("token",l.data.token),c(!0),d.push("/")}catch(e){console.error("Google login error:",e)}},u=t=>{let{name:r,value:a}=t.target;s({...e,[r]:a})},h=async s=>{s.preventDefault();try{let s=await fetch("".concat("http://192.168.1.8:3000/","v1/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("Login failed");let t=await s.json();localStorage.setItem("token",t.data.token),c(!0),d.push("/")}catch(e){console.error("Login error:",e)}};return t?null:(0,r.jsx)("div",{className:"container pt-140 pb-170",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-lg-5 mx-auto",children:(0,r.jsx)("div",{className:"border rounded-3 px-md-5 px-3 ptb-50",children:(0,r.jsxs)("div",{className:"login-content",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"neutral-1000 px-4 py-2 bg-2 text-sm-bold rounded-12 d-inline-flex align-items-center",children:"Sign in"}),(0,r.jsx)("h4",{className:"neutral-1000",children:"Welcome back"})]}),(0,r.jsx)("div",{className:"form-login mt-30",children:(0,r.jsxs)("form",{onSubmit:h,children:[(0,r.jsx)("div",{className:"form-group",children:(0,r.jsx)("input",{name:"email",value:e.email,onChange:u,className:"form-control username",type:"text",required:!0,placeholder:"Email / Username"})}),(0,r.jsx)("div",{className:"form-group",children:(0,r.jsx)("input",{type:"password",name:"password",value:e.password,onChange:u,className:"form-control password",required:!0,placeholder:"****************"})}),(0,r.jsx)("div",{className:"form-group",children:(0,r.jsxs)("div",{className:"box-remember-forgot",children:[(0,r.jsx)("div",{className:"remeber-me",children:(0,r.jsxs)("label",{className:"text-xs-medium neutral-500",children:[" ",(0,r.jsx)("input",{className:"cb-remember",type:"checkbox"}),"Remember me "]})}),(0,r.jsx)("div",{className:"forgotpass",children:(0,r.jsx)(o.default,{className:"text-xs-medium neutral-500",href:"#",children:"Forgot password?"})})]})}),(0,r.jsx)("div",{className:"form-group mb-30",children:(0,r.jsxs)("button",{type:"submit",className:"btn btn-primary w-100",children:["Sign in",(0,r.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M8 15L15 8L8 1M15 8L1 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),(0,r.jsx)("p",{className:"text-md-medium neutral-500 text-center",children:"Or connect with your social account"}),(0,r.jsxs)("div",{className:"box-button-logins",children:[(0,r.jsxs)("button",{onClick:m,className:"btn btn-login btn-google mr-10",children:[(0,r.jsx)("img",{src:"/assets/imgs/template/popup/google.svg",alt:"Carento"}),(0,r.jsx)("span",{className:"text-sm-bold",children:"Sign up with Google"})]}),(0,r.jsx)(o.default,{className:"btn btn-login mr-10",href:"#",children:(0,r.jsx)("img",{src:"/assets/imgs/template/popup/facebook.svg",alt:"Carento"})}),(0,r.jsx)(o.default,{className:"btn btn-login",href:"#",children:(0,r.jsx)("img",{src:"/assets/imgs/template/popup/apple.svg",alt:"Carento"})})]}),(0,r.jsxs)("p",{className:"text-sm-medium neutral-500 text-center mt-70",children:["Donâ€™t have an account? ",(0,r.jsx)(o.default,{className:"neutral-1000",href:"/register",children:"Register Here !"})]})]})})]})})})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[855,503,99,359,441,517,358],()=>s(6759)),_N_E=e.O()}]);